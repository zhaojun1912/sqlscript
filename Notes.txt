bgp , bip not found.

pbrp : pre bill run process ( forks sub processes to bill )
    PTCBILL_CUST_PROCESS (customers' status and statistics. almost 15M for 150,000 customers)
brp : bill run process ( calculate customer charges )
      store invoice related data and presention details. 
	  PTCBILL_ORDERTRAILER_DETAIL,
	  PTCBILL_INVOICE_HEADER, 
	  PTCBILL_INVOICE_DETAIL_SUM,
	  PTCBILL_INVOICE_DETAIL_COSUM,
	  PTCBILL_INVOICE_DETAIL_CDR
pbpp : pre bill presentation process ( )
bpp: bill presentation process ( 
	format bills: 
	add bill items,
    prepare bill text,  
	bill letter, 
	insert beat code etc)
pill papers or put it into bill Image Process system

Bill Run Process: 
Subscription Fee \?
Credit Back Charge \?	

Bill Seperation Process: target :identify the bills to be held.
customer records \?
hold bill system \?

Bill Insertion Press: target: identify the bill text and bill inserts.

Bill Presentation Process: 
VIPP format for Xerox printer.

cmhk vpn : https://127.0.0.1:49514/proxy.pac
cmsz proxy: http://wsg.cmszmail.ad:8083/

select * from directory_number where dn_num=92047383; --plcode 1
select * from contr_services where dn_id=163893 and sncode=1 and cs_stat_chng like '%a'; -- co_id=6422401 tmcode=653 spcode=214
select * from contract_all where co_id=6422401;--customer_id=6227103
select * from customer_all where customer_id=6227103;

select * from contract_all where customer_id=6227103;
select * from contr_services where co_id=6422401 and cs_stat_chng like '%a';
select * from mpulktmb where tmcode=653 and spcode=214 order by sncode; --408
select IL01,IC01,IL10,IC10,typeind,zncode from mpulktmm where tmcode=653 and spcode=214 and sncode=1 and typeind in ('A','L') and  zncode=2;--1.95
select * from ptcrate_tm_tariff where tmcode=653;
SELECT * FROM ptcrate_contract_tariff WHERE co_id  = 6422401;
select * from MBSADM.PTCRATE_TARIFF where tariff_id=32;
SELECT IL01,IC01,IL10,IC10,type_ind FROM ptcrate_tariff_usage WHERE tariff_id = 32 AND vscode = 1 AND sncode = 1 AND digit_id=86;

select * from mpusntab where sncode in (select sncode from contr_services where co_id=6422401 and cs_stat_chng like '%a');
select * from mpuzptab where digits ='+86';
select * from mpulkzop where zncode=231;
select * from mpuzntab where zncode=231;

select * from mpuzntab where zncode in (1,2);

"
  CREATE TABLE "MBSADM"."MPDPLTAB" 
   (	"PLCODE" NUMBER(*,0) NOT NULL ENABLE, 
	"SCCODE" NUMBER(*,0) NOT NULL ENABLE, 
	"SN_LENGTH" NUMBER(*,0) NOT NULL ENABLE, 
	"MCC" VARCHAR2(3), 
	"MNC" VARCHAR2(3), 
	"CC" VARCHAR2(3), 
	"NDC" VARCHAR2(8), 
	"IAC" VARCHAR2(3), 
	"NAC" VARCHAR2(2), 
	"SOURCE" VARCHAR2(5), 
	"PLMNNAME" VARCHAR2(12), 
	"PLMNTYPE" VARCHAR2(1), 
	"SHDES" VARCHAR2(6), 
	"SCHEME" VARCHAR2(1), 
	"HLRLEN" NUMBER(*,0), 
	"COUNTRY" VARCHAR2(40), 
	"GMSC_ID" VARCHAR2(15), 
	"GMSC_MSISDN" VARCHAR2(15), 
	"INTRUNK" VARCHAR2(15), 
	"OUTTRUNK" VARCHAR2(15), 
	"NACLEN" NUMBER(*,0) NOT NULL ENABLE, 
	"RECONIND" VARCHAR2(1) DEFAULT (' ') NOT NULL ENABLE, 
	"REC_VERSION" NUMBER(*,0) DEFAULT (0) NOT NULL ENABLE, 
	"SOURCE2" VARCHAR2(5), 
	 CONSTRAINT "PKMPDPLTAB" PRIMARY KEY ("PLCODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOLOGGING 
  STORAGE(INITIAL 40960 NEXT 40960 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "BSCSIDX00"  ENABLE, 
	 CONSTRAINT "PLSCCODE" FOREIGN KEY ("SCCODE")
	  REFERENCES "MBSADM"."MPDSCTAB" ("SCCODE") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 40960 NEXT 65536 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "BSCSDATA21" "
  
  
 cmcc-web wifi: 67657304/654321
 嵌套游标参数化。
 execute immediate : '' 
   plsql_block := 'DECLARE '                 ||
                 ' v_date DATE; '           ||
                 'BEGIN'                   ||
                 ' SELECT SYSDATE INTO v_date FROM DUAL; ' ||
                 ' DBMS_OUTPUT.PUT_LINE( TO_CHAR(v_date,''DD-MON_YYYY''));'||
                 'END;';
 DDL 不能接受任何绑定参数 ， 如下错误：
   sql_stmt := 'CREATE TABLE my_student '||
             ' AS SELECT * FROM student WHERE zip = :zip';
  EXECUTE IMMEDIATE sql_stmt using v_zip;
  
不能把模式对象的名称作为绑定参数传递给动态SQL语句。如下 错误：
EXECUTE  IMMEDIATE ' SELECT COUTN(*) FROM :my_table'
into v_total_students
USING 'my_student';
动态SQL不能以;结束 ， PL/SQL块不能以/结束。
INVALID CHARACTOR
绑定参数传递NULL
v_null varchar2(1);
EXECUTE IMMEDIATE sql_stmt using v_null;
z12/zhou123456
Lazarus:q9w8.e7r6 +-.
oracle用户名特殊 字符 ： 
create user "mbsbat[mbsadm]" identified by mbsbat;
赋予用户可调试权限：
grant DEBUG CONNECT SESSION to student;
grant debug any procedure to student;

BBBTEST
select count(*)  from  RTX_030101
where r_p_customer_id in 
(select sub_customer_id from ptcbill_main_sub_lnk where main_customer_id=6275536) 
and rated_flat_amount >0 and sncode in (3,4) and rownum<2;
  
create public synonym plan_table for plan_table;  

on commit delete rows
--事务级临时表：提交时删除数据
on commit preserve rows
--会话级临时表：会话结束时删除数据

ORACLE对感兴趣的值加索引 。
advanced queuing

sqlplus : bind variable 

variable empno number
execute :empno := 7369
select * from emp where empno = :empno;

Lazarus/q9w8.e7r6 +-.

count(object_Id): 统计object_id非null值的条数
count(*):统计所有列值不同时为null值的条数
二者在object_id为非空，not null约束时等价。
select * from v$diag_info

simple case : equal 等值判断， 不支持NULL
student@DB11G> select case null
  2  when null then 'NULL'
  3  else 'NOT NULL'
  4  END result from dual;

RESULT
--------
NOT NULL

student@DB11G> ed
Wrote file afiedt.buf

  1  select case when null is null
  2   then 'NULL'
  3  else 'NOT NULL'
  4* END result from dual
student@DB11G> /

RESULT
--------
NULL

student@DB11G> select decode(null, null, 'NULL', 'NOT NULL') from dual;

DECO
----
NULL

  1  with t as
  2  ( select level id from dual connect by level < 10)
  3  select (case when id<5 then 'low'
  4               when id < 7 then 'mid'
  5               when id < 10 then 'high' end ) , count(*) from t  group by(  case when id < 5 then 'low'
  6                   when id < 7 then 'mid'
  7                   when id < 10 then 'high'
  8*        end )
student@DB11G> /

(CAS   COUNT(*)
---- ----------
low           4
high          3
mid           2

student@DB11G>

  1  with t as
  2  (select level id from dual connect by level < 10)
  3* select id, decode( -1, sign(id-5), 'low', sign(id-8), 'mid', 'high') from t
student@DB11G> /

        ID DECO
---------- ----
         1 low
         2 low
         3 low
         4 low
         5 mid
         6 mid
         7 mid
         8 high
         9 high

9 rows selected.

posting_period: 记账期间
due date :到期日
周日00：00：01到周六晚上23：59：59视为一周。
配置文件参数：/boss/work/config/billing/billing.cfg
系统（DB）初始化参数：表： ptcbill_system_parameter
Main service code (sncode)
--sncode which do not handle duplicate calls(separate by ',')
SELECT *FROM mpusntab WHERE sncode IN (3,4,119,374,376,525);

 /* Check Duplicate Run */
  select   'Y'
  into     :PTCBILL_MASTER_CONTROL_rec.selected
  from     ptcbill_master_control
  where    bill_cycle = :bill_cycle
  and      bill_date = to_date(:bill_date, 'RRMMDD');
查到数据，则check FAIL -> 程序退出 。
没数据，则check SUCCESS.程序继续。

 /* Get billing rtx table */
   select    name_rtx_table
  into      :RTX_TABLE_rec.name_rtx_table
  from      rtx_control
  where     billcycle = :bill_cycle
  and       owner = 'B'
  //and       protected is NULL;
  and       protected = 'N';
  
 /* Check CUstomer */
   select    'Y'
  into      :PTCBILL_PROCESS_CONTROL_rec.selected
  from      ptcbill_process_control
  where     bill_cycle = :bill_cycle
  and       bill_date = to_date(:bill_date, 'RRMMDD')
  and       brp_id > 0
  and       rownum <= 1;
  
 pkgadd -s ./ -d ./lrzsz-0.12.20-sol10-sparc-local
  
使用命令：lsof -i:被占用的端口号
[root@52listen ~]# lsof -i:88
SELECT B.TABLE_NAME     AS "表名",

       C.COMMENTS       AS "表说明",
       B.COLUMN_ID      AS "字段序号",
       B.COLUMN_NAME    AS "字段名",
       B.DATA_TYPE      AS "字段数据类型",
       B.DATA_LENGTH    AS "数据长度",
       B.DATA_PRECISION AS "整数位",
       B.DATA_SCALE     AS "小数位",
       A.COMMENTS       AS "字段说明"
  FROM ALL_COL_COMMENTS A, ALL_TAB_COLUMNS B, ALL_TAB_COMMENTS C

WHERE A.TABLE_NAME IN (SELECT U.TABLE_NAME FROM USER_ALL_TABLES U)
   AND A.OWNER = B.OWNER
   AND A.TABLE_NAME = B.TABLE_NAME
   AND A.COLUMN_NAME = B.COLUMN_NAME
   AND C.TABLE_NAME = A.TABLE_NAME
   AND C.OWNER = A.OWNER
   AND A.OWNER = 'PYE'
ORDER BY A.TABLE_NAME, B.COLUMN_ID;

szjyx/62398688
香港号码：56407060
大陆号码：

--check duplication run
select * from PTCBILL_MASTER_CONTROL order by total_customer desc;
-- get CDR table
select * from rtx_control; where owner = 'B'; 

-- Tariff Model
select * from mpulktmb;
select * from sms_group;
select * from mpuintab;
select * from mpufutab;
select * from fuom_all;
select * from usage_sum_def;
select * from usage_sum;
select * from ptcbpp_cfg_description;
select * from ptcbpp_cfg_rateplan;
select * from ptcapp_bill_country;
select * from mpuzntab;

-- Discounts
select * from other_credits;
select * from usage_sum_group;
select * from mpulkddb;
select * from mpulkdmb;

-- Customer Information
select * from customer_all;
select * from contract_all;
select * from contr_services;
select * from contra_occ;
select * from ccontact_all;
select * from occ_history;
--select * from cash_receipt;
select * from rateplan_hist;
--select * from fee;

-- pbrp configuration
select * from PTCBILL_SYSTEM_PARAMETER;
-- check bill run process status
select * from ptcbill_process_control;
-- customers need be billed
select * from PTCBILL_CUST_PROCESS;

select * from PTCBILL_CORP_TYPE;
select * from PTCBILL_BILL_FILE where bill_cycle = '06';

select * from user_tables where table_name like '%CUST%TYPE';
select * from PTCBILL_CORP_TYPE;

select * from orderhdr_all;
select *from ordertrailer;
select *from mpusptab ;
select *from mpulktmb;
select *from mpuintab;
select * from mpufutab;
select *from fuom_all;
select * from usage_sum_def;
select *from usage_sum;
select *from ptcbpp_cfg_rateplan;
select *from MBSADM.DIRECTORY_NUMBER where dn_num = 56407060;
select * from customer_all;
select * from contract_all;
select * from contr_services;


select * from mputmview;
select * from mputmtab;
select * from mpulktmb;

select * from ptcbpp_cfg_description;
select *from rateplan_hist;

SELECT * FROM master_occ;
SELECT *FROM other_credits;

SELECT * FROM ptcapp_dis_occ;
SELECT *FROM ptcapp_occ_forfeit_def;
SELECT * FROM mpusntab WHERE sncode IN ( 202, 203, 204);
SELECT * FROM master_occ WHERE oc_id IN (1685, 1686, 1687);
SELECT *FROM other_credits  WHERE oc_id IN (1685, 1686, 1687);
SELECT * FROM usage_sum;
SELECT * FROM PTCBILL_VOICE_USAGE_ALERT WHERE msisdn = ''
;
SELECT *FROM cashdetail WHERE cadxact = 209687589;
SELECT * FROM orderhdr_all WHERE ohxact = 5127376256;
SELECT * FROM cashreceipts_all WHERE customer_id = 6132427 order BY caentdate;
SELECT * FROM customer_all WHERE custcode = '1.6195420';
SELECT *FROM custsettle_all WHERE customer_id = 6132427 ORDER BY cslpp;
SELECT *FROM pricegroup_all;
SELECT * FROM TRADE_ALL;
SELECT * FROM paymenttype_all;
SELECT * FORM idtype;
SELECT *FROM contract_all;
SELECT *FROM payment WHERE customer_id =6132427 ;
SELECT * FROM main_supp_link;
SELECT * FROM lotreq;
SELECT *FROM lot_all WHERE ltentdate > To_Date('20161101', 'yyyymmdd') ;
SELECT * FroM product_all WHERE prodcode = 'PSIM234SP$48ST4G';
 SELECT * FroM product_all WHERE pdname LIKE '%Apple%';
SELECT *FROM whsname_all WHERE warehcode = 'DONE' ;
SELECT *FROM productclass_all;
SELECT *FROM productcat_all;
SELECT *FROM productline_all;
SELECT * FROM glaccount_all;
SELECT * FROM icxtype_all;
SELECT *FROM icxact WHERE prodcode = 'HANIP6S64GAPPL';
SELECT * FROM inventory_all WHERE prodcode = 'HANIP6S64GAPPL';
SELECT * FROM ordertrailer WHERE otxact = 5127376256;


SELECT *FROM ext_blacklisted;
SELECT *FROM mpscftab;
SELECT *FROM mpulktpb;
SELECT *FROM mputmtab;
SELECT * FROM mputptab;

SELECT *FROM contra_occ;
SELECT *FROM other_credits;
SELECT * FROM master_occ;

SELECT * FROM customer_all;


SELECT * FROM cashreceipts_all WHERE customer_id = 6132427 order BY caentdate;
SELECT *FROM cashdetail;
SELECT * FROM custsettle WHERE customer_id = 6132427;
SELECT * FROM orderhdr_all WHERE customer_id = 6132427 ORDER BY ohentdate ;
SELECT *FROM ordertrailer  WHERE otxact = 5127376256;
;


+ . /boss/work/app/common/script/common_profile
++ PATH=/usr/xpg4/bin:/usr/bin:/opt/ansic/bin:/usr/ccs/bin:/usr/contrib/bin:/opt/nettladm/bin:/opt/fc/bin:/opt/fcms/bin:/opt/upgrade/bin:/opt/pd/bin:/usr/bin/X11:/usr/contrib/bin/X11:/opt/dlm/sbin:/opt/resmon/bin:/opt/perf/bin:/opt/java/bin:/opt/OV/bin/OpC:/opt/hparray/bin:/opt/ftam/bin:/opt/ftam/lbin:/opt/hpnp//bin:/opt/langtools/bin:/opt/imake/bin:/usr/sbin/stm/uut/bin/progs:/opt/ignite/bin:/home/boss:/boss/work:/boss/work/app/payment/script:/boss/work/app/report/script:/boss/work/app/billing/script:/boss/work/app/md/script:/boss/work/app/fms/script:/boss/work/app/others/script:/boss/work/app/prepaid/script:/boss/work/app/common/script:/boss/work/app/ad_hoc/script:/boss/work/app/payment/bin:/boss/work/app/report/bin:/boss/work/app/billing/bin:/boss/work/app/md/bin:/boss/work/app/fms/bin:/boss/work/app/others/bin:/boss/work/app/prepaid/bin:/boss/work/app/common/bin:/boss/work/app/ad_hoc/bin:/usr/local/bin:/u01/app/oracle/product/10.2/bin:.:/usr/sbin
++ OPATH=/u01/app/oracle/product/10.2/bin
++ PATH=/usr/xpg4/bin:/usr/bin:/opt/ansic/bin:/usr/ccs/bin:/usr/contrib/bin:/opt/nettladm/bin:/opt/fc/bin:/opt/fcms/bin:/opt/upgrade/bin:/opt/pd/bin:/usr/bin/X11:/usr/contrib/bin/X11:/opt/dlm/sbin:/opt/resmon/bin:/opt/perf/bin:/opt/java/bin:/opt/OV/bin/OpC:/opt/hparray/bin:/opt/ftam/bin:/opt/ftam/lbin:/opt/hpnp//bin:/opt/langtools/bin:/opt/imake/bin:/usr/sbin/stm/uut/bin/progs:/opt/ignite/bin:/home/boss:/boss/work:/boss/work/app/payment/script:/boss/work/app/report/script:/boss/work/app/billing/script:/boss/work/app/md/script:/boss/work/app/fms/script:/boss/work/app/others/script:/boss/work/app/prepaid/script:/boss/work/app/common/script:/boss/work/app/ad_hoc/script:/boss/work/app/payment/bin:/boss/work/app/report/bin:/boss/work/app/billing/bin:/boss/work/app/md/bin:/boss/work/app/fms/bin:/boss/work/app/others/bin:/boss/work/app/prepaid/bin:/boss/work/app/common/bin:/boss/work/app/ad_hoc/bin:/usr/local/bin:/u01/app/oracle/product/10.2/bin:.:/usr/sbin:/usr/local/bin:/u01/app/oracle/product/10.2/bin:.
++ PATH=/usr/xpg4/bin:/usr/bin:/opt/ansic/bin:/usr/ccs/bin:/usr/contrib/bin:/opt/nettladm/bin:/opt/fc/bin:/opt/fcms/bin:/opt/upgrade/bin:/opt/pd/bin:/usr/bin/X11:/usr/contrib/bin/X11:/opt/dlm/sbin:/opt/resmon/bin:/opt/perf/bin:/opt/java/bin:/opt/OV/bin/OpC:/opt/hparray/bin:/opt/ftam/bin:/opt/ftam/lbin:/opt/hpnp//bin:/opt/langtools/bin:/opt/imake/bin:/usr/sbin/stm/uut/bin/progs:/opt/ignite/bin:/home/boss:/boss/work:/boss/work/app/payment/script:/boss/work/app/report/script:/boss/work/app/billing/script:/boss/work/app/md/script:/boss/work/app/fms/script:/boss/work/app/others/script:/boss/work/app/prepaid/script:/boss/work/app/common/script:/boss/work/app/ad_hoc/script:/boss/work/app/payment/bin:/boss/work/app/report/bin:/boss/work/app/billing/bin:/boss/work/app/md/bin:/boss/work/app/fms/bin:/boss/work/app/others/bin:/boss/work/app/prepaid/bin:/boss/work/app/common/bin:/boss/work/app/ad_hoc/bin:/usr/local/bin:/u01/app/oracle/product/10.2/bin:.:/usr/sbin:/usr/local/bin:/u01/app/oracle/product/10.2/bin:.:/usr/sbin
++ ORACLE_SID=mbsdb
++ ORACLE_HOME=/u01/app/oracle/product/10.2
++ LD_LIBRARY_PATH=/u01/app/oracle/product/10.2/lib
++ BSCSDB=sbmbs
++ RTXDB=sbmbs
++ BSCS_PRINTER=DUMMY
++ NLS_LANG=american_america.zht16big5
++ umask 022
++ SITE_ROOT=/boss
++ SITE_HOME_DSK=work
++ SITE=ptc
++ SITE_BSCS=sbmbs
++ SITE_DEV=sbmbs
++ SITE_GROUP=it
++ SITE_SID=sbmbs
++ SITE_DEF_WORK_DSK=dsk01
++ SITE_OS=HP-UX/B.11.00
++ OS_DIR=HP-UX10.20
++ MKINC_DIR=/home/ptcbscs/batch/mpde/HP-UX10.20/share
++ SITE_BSCS=sbmbs
++ EDITOR=vi
++ LMP_WORLD=bscs
++ SITE_OS_VERSION=B.11.00
++ LOGNAME=sbmbs
++ MAIN=/home/ptcbscs/batch
++ OS_NAME=HP-UX10.20
++ NLS_LANG=american_america.zht16big5
++ WORKDIR=/boss/work/
++ SITE_RDB=oracle
++ SITE_ORA_VERSION=10.2
++ BINDIR=/boss/work/app/
++ PWD=/boss/work/report/
++ TZ=EAT-8
++ LINES=33
++ TERM=vt100
++ LMP_HOME=/home/ptcbscs/batch
++ SHELL=/usr/bin/sh
++ PRJ_DIR=ptc
++ HOME=/export/home/boss
++ export PATH OPATH ORACLE_SID ORACLE_HOME LD_LIBRARY_PATH BSCSDB RTXDB BSCS_PRINTER NLS_LANG SITE_ROOT SITE_HOME_DSK SITE SITE_BSCS SITE_DEV SITE_GROUP SITE_SID SITE_DEF_WORK_DSK
++ export SITE_OS OS_DIR MKINC_DIR SITE_BSCS EDITOR LMP_WORLD SITE_OS_VERSION LOGNAME MAIN OS_NAME NLS_LANG WORKDIR SITE_RDB SITE_ORA_VERSION BINDIR PWD TZ LINES TERM LMP_HOME SHELL PRJ_DIR HOME
++ unset TWO_TASK
++ alias expr=/usr/ucb/expr
++ alias grep=/usr/xpg4/bin/grep
++ alias openssl=/usr/sfw/bin/openssl
++ alias ux2dos=unix2dos
++ date +%Y%m%d%H%M%S
+ ENTDATE=20161028100011
++ basename pbrp.sh
++ cut -d. -f1
+ SCRIPT_ID=pbrp
+ export SCRIPT_ID
+ BOSS_HOME_DIR=/boss/work
+ CATEGORY=billing
+ APP_HOME=/boss/work/app/billing
+ SCRIPT_DIR=/boss/work/app/billing/script
+ SQL_DIR=/boss/work/app/billing/sql
+ LOG_DIR=/boss/work/log/billing
+ SQL_FILE=pbrp.sql
+ LOG_FILE=/boss/work/log/billing/pbrp_20161028100011.log
+ REPORT_DIR=/boss/work/output/billing
+ DATA_DIR=/boss/work/input/billing/SDR
+ COMMON_HOME=/boss/work/app/common/
+ COMMON_SQL_DIR=/boss/work/app/common//sql
+ COMMON_SCRIPT_DIR=/boss/work/app/common//script
+ CTRL_DIR=/boss/work/control/billing
+ CFG_DIR=/boss/work/config/billing
+ BIN_DIR=/boss/work/app/billing/bin
+ CHK_FLAG=/boss/work/control/billing/pbrp.flag
+ STOP_PRO_CTRL=/boss/work/control/billing/billing_stop.process
+ export BILLING_CTRL_DIR=/boss/work/control/billing
+ BILLING_CTRL_DIR=/boss/work/control/billing
+ export BILLING_CONF_DIR=/boss/work/config/billing
+ BILLING_CONF_DIR=/boss/work/config/billing
+ export BILLING_LOG_DIR=/boss/work/log/billing
+ BILLING_LOG_DIR=/boss/work/log/billing
+ export BILLING_BIN_DIR=/boss/work/app/billing/bin
+ BILLING_BIN_DIR=/boss/work/app/billing/bin
+ mail_list='skyu@peoplesphone.com.hk tmyyeung@peoplesphone.com.hk'
+ phone_list='92046691@mis01\n68479835@mis01\n92048950@mis01'
+ echo 'pbrp.sh start'
+ echo ' LOG_FILE    = /boss/work/log/billing/pbrp_20161028100011.log'
+ echo ' BILLING_HOME= '
+ echo ' HOME_DIR= '
+ '[' -e /boss/work/control/billing/pbrp.flag ']'
++ grep -xc pbrp /boss/work/control/billing/billing_stop.process
+ stop_count=0
+ '[' 0 -eq 1 ']'
+ '[' 0 -eq 2 ']'
+ '[' 0 -gt 2 ']'
+ echo 'Usage: pbrp.sh -bc<billcycle> -billdate<billdate_yyyymmdd> [-postingperiod<postingperiod_yyyymm>] [-duedate<duedate_yyyymmdd>] [-d<debug_level>]'
Usage: pbrp.sh -bc<billcycle> -billdate<billdate_yyyymmdd> [-postingperiod<postingperiod_yyyymm>] [-duedate<duedate_yyyymmdd>] [-d<debug_level>]
+ exit -1

export NLS_LANG="TRADITIONAL CHINESE_AMERICA.ZHS16GBK"
pos： P2683/b 
		P2870/b
eip: zhaojun_yan

customer_all: cs_type:客户类型 d:deactived, a, s. csdeactivated:失效时间,在合同失效日期后3个月之前失效。
              cscusttype: F: firm, P: private
				
contract_history: ch_status: 合同状态。d: deactived
                  ch_validfrom: status changed time
contract_all: co_status:无意义。 本表记录customer_id, co_id对应关系。
contr_services:	记录合同服务详情。cs_stat_chng: 服务状态及改变日期。
                cs_status:无意义。
UOM: 1, minutes, 2, charge , 3 call, 4, 6 secs
454120454983764
       54983764				
中國一咭多號地區通話： 包括
一咭多號(接聽) 1 分鐘, 金額共 0.65
一咭多號(打出) 87 分鐘, 金額共 56.55
一咭多號接駁費香港號碼 1 分鐘, 金額共 0.00  别人打你香港号码，你在大陆，需要大陆运营商接驳。
接驳服务 sncode = 237
接收短信 sncode = 3
发送短信 sncode = 4
1CMN MO Call Rating sncode = 283
社保信息查询： zhaojun1912/Qq398372

wifi physical address: A0-88-B4-AC-78-C0
